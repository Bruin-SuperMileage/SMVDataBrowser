(this["webpackJsonpdata-browser"]=this["webpackJsonpdata-browser"]||[]).push([[0],{44:function(e,a){},60:function(e,a,t){},69:function(e,a,t){},72:function(e,a,t){"use strict";t.r(a);var r=t(4),s=t(0),i=t.n(s),n=t(10),l=t.n(n),p=(t(60),t(30)),c=t(31),h=t(38),o=t(37),u=t(44),g=t(41),d=(t(62),{apiKey:u.apiKeyHidden,authDomain:"smv-daq.firebaseapp.com",databaseURL:"https://smv-daq.firebaseio.com",projectId:"smv-daq",storageBucket:"bucket.appspot.com"});g.a.initializeApp(d);var j=g.a,v=t(75),b=t(106),f=t(107),m=t(105),x=t(101),O=t(7),T=t(109),I=t(110),S=t(45),y=t.n(S),D=(t(69),function(e){Object(h.a)(t,e);var a=Object(o.a)(t);function t(){return Object(p.a)(this,t),a.apply(this,arguments)}return Object(c.a)(t,[{key:"render",value:function(){var e=[];this.props.laps&&this.props.laps.forEach((function(a,t){e[t]={x:a,strokeDashArray:0,borderColor:"#f2a922",fillColor:"#f2a922",label:{text:"Lap "+(t+1),borderColor:"f2a922",style:{color:"#fff",background:"#f2a922"}}}}));var a=[{name:this.props.name,data:this.props.vals}],t={annotations:{position:"front",xaxis:e},chart:{animations:{enabled:!0},type:"line",toolbar:{tools:{show:!0,reset:'<img src=/SMVDataBrowser/reset.png width="20">'},export:{csv:{filename:this.props.name},png:{filename:this.props.name}}},fontFamily:"Roboto"},colors:["#3463d9"],dataLabels:{enabled:!1},stroke:{curve:"smooth",width:2},title:{text:this.props.name,align:"center",style:{color:"#fafafa",fontWeight:"normal",fontSize:"20px"}},grid:{borderColor:"#2e2d2d",row:{colors:["transparent"],opacity:.5},column:{colors:["transparent"],opacity:.5}},markers:{size:1},xaxis:{categories:this.props.labels,labels:{style:{colors:"#757171"}},axisBorder:{show:!0,color:"#000000"},axisTicks:{show:!1}},yaxis:{labels:{style:{colors:"#757171"}},axisBorder:{show:!0,color:"#000000"}},tooltip:{enabled:!0,followCursor:!1,fillSeriesColor:!0,theme:"dark"}},s=[0,0];0!==this.props.vals.length&&(s=this.props.vals);var i,n=+(i=s,i.reduce((function(e,a){return e+a}))/i.length).toPrecision(4);return Object(r.jsxs)("div",{children:[Object(r.jsxs)(x.a,{container:!0,direction:"row",justify:"center",alignItems:"center",children:[Object(r.jsx)(x.a,{item:!0,xs:1}),Object(r.jsx)(x.a,{item:!0,xs:2,children:Object(r.jsxs)(T.a,{onChange:this.props.changeDialogState,defaultValue:"hall-effect|speed",children:[Object(r.jsx)(I.a,{value:"hall-effect|rpm",children:"RPM"}),Object(r.jsx)(I.a,{value:"hall-effect|speed",children:"Speed"}),Object(r.jsx)(I.a,{value:"hall-effect|throttle",children:"Throttle"}),Object(r.jsx)(I.a,{value:"accelerometer|acceleration x",children:"Acceleration X"}),Object(r.jsx)(I.a,{value:"accelerometer|acceleration y",children:"Acceleration Y"}),Object(r.jsx)(I.a,{value:"accelerometer|acceleration z",children:"Acceleration Z"}),Object(r.jsx)(I.a,{value:"joulemeter|current",children:"Current"}),Object(r.jsx)(I.a,{value:"joulemeter|power",children:"Power"}),Object(r.jsx)(I.a,{value:"joulemeter|voltage",children:"Voltage"}),Object(r.jsx)(I.a,{value:"magnetometer|MagX",children:"MagX"}),Object(r.jsx)(I.a,{value:"magnetometer|MagY",children:"MagY"}),Object(r.jsx)(I.a,{value:"magnetometer|MagZ",children:"MagZ"}),Object(r.jsx)(I.a,{value:"gyroscope|GyX",children:"GyX"}),Object(r.jsx)(I.a,{value:"gyroscope|GyY",children:"GyY"}),Object(r.jsx)(I.a,{value:"gyroscope|GyZ",children:"GyZ"}),Object(r.jsx)(I.a,{value:"gyroscope|heading",children:"Heading"}),Object(r.jsx)(I.a,{value:"gyroscope|pitch",children:"Pitch"}),Object(r.jsx)(I.a,{value:"gyroscope|roll",children:"Roll"}),Object(r.jsx)(I.a,{value:"gps|latitude",children:"Latitude"}),Object(r.jsx)(I.a,{value:"gps|longitude",children:"Longitude"}),Object(r.jsx)(I.a,{value:"environment|altitude",children:"Altitude"}),Object(r.jsx)(I.a,{value:"environment|temperature",children:"Temperature"})]})}),Object(r.jsx)(x.a,{item:!0,xs:2,children:Object(r.jsxs)(m.a,{variant:"body1",children:["Average: ",n]})}),Object(r.jsx)(x.a,{item:!0,xs:5}),Object(r.jsx)(x.a,{item:!0,xs:2,children:Object(r.jsx)(T.a,{onChange:this.props.changeTrial,defaultValue:"1",children:this.props.trials.map((function(e){return[Object(r.jsx)(I.a,{value:e,children:"Trial "+e})]}))})})]}),Object(r.jsx)(x.a,{container:!0,direction:"row",children:Object(r.jsx)(x.a,{item:!0,xs:12,children:Object(r.jsx)("div",{className:"card",children:Object(r.jsx)("div",{className:"card-image",children:Object(r.jsx)(y.a,{options:t,series:a,type:"line",height:"430"})})})})})]})}}]),t}(i.a.Component)),w=function(e){Object(h.a)(t,e);var a=Object(o.a)(t);function t(e){var r;return Object(p.a)(this,t),(r=a.call(this,e)).toggleDrawer=function(){r.setState({drawerOpen:!r.state.drawerOpen})},r.handleClose=function(){r.setState({drawerOpen:!1})},r.setTrial=function(e){e!==r.state.trialNumber&&r.setState({trialNumber:e})},r.changeDialogState1=function(e){r.setState({graph1value:e.target.value})},r.changeDialogState2=function(e){r.setState({graph2value:e.target.value})},r.changeDialogState3=function(e){r.setState({graph3value:e.target.value})},r.changeDialogState4=function(e){r.setState({graph4value:e.target.value})},r.changeTrial1=function(e){r.setState({graph1Trial:e.target.value.toString()})},r.changeTrial2=function(e){r.setState({graph2Trial:e.target.value.toString()})},r.changeTrial3=function(e){r.setState({graph3Trial:e.target.value.toString()})},r.changeTrial4=function(e){r.setState({graph4Trial:e.target.value.toString()})},r.state={allData:{},trials:[],drawerOpen:!1,graph1value:"hall-effect|speed",graph2value:"hall-effect|speed",graph3value:"hall-effect|speed",graph4value:"hall-effect|speed",graph1Data:[],graph2Data:[],graph3Data:[],graph4Data:[],trialTimes:[],graph1Times:[],graph2Times:[],graph3Times:[],graph4Times:[],graph1Trial:"1",graph2Trial:"1",graph3Trial:"1",graph4Trial:"1",graph1Laps:[],graph2Laps:[],graph3Laps:[],graph4Laps:[],running:""},r}return Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,a=j.database(),t=[];a.ref().on("value",(function(r){var s=r.val(),i=s.Running;e.setState({running:i}),"True"!==i&&(t=[],Object.keys(s).forEach((function(e){"T"===e[0]&&t.push(Number(e.substring(6)))})),a.ref("Trial 1").on("value",(function(a){var t=a.val(),r=[],s=[],i=[],n=[],l=[],p=e.state.graph1value.split("|"),c=e.state.graph2value.split("|"),h=e.state.graph3value.split("|"),o=e.state.graph4value.split("|"),u=!1,g=0,d=function(e,a){return String(e).padStart(a,"0")};Object.keys(t).forEach((function(e){var a=e.split(":"),j=36e5*parseInt(a[0])+6e4*parseInt(a[1])+1e3*parseInt(a[2])+parseInt(a[3]);if(!1===u&&(g=j,u=!0),Number.isInteger(Number(e[0]))){var v=j-g,b=d(parseInt(v/6e4%60),2)+":"+d(parseInt(v/1e3%60),2)+":"+d(parseInt(v%1e3),3);r.push(b),s.push(t[e][p[0]][p[1]]),i.push(t[e][c[0]][c[1]]),n.push(t[e][h[0]][h[1]]),l.push(t[e][o[0]][c[1]])}})),e.setState({graph1Times:r,graph2Times:r,graph3Times:r,graph4Times:r,graph1Data:s,graph2Data:i,graph3Data:n,graph4Data:l})})),t.sort((function(e,a){return e-a})),e.setState({allData:s,trials:t}))}))}},{key:"componentDidUpdate",value:function(e,a){var t=this;a.graph1value===this.state.graph1value&&a.graph1Trial===this.state.graph1Trial||j.database().ref("Trial "+this.state.graph1Trial).on("value",(function(e){var a=e.val(),r=[],s=[],i=t.state.graph1value.split("|"),n=!1,l=0,p=[],c=0,h=[],o=function(e,a){return String(e).padStart(a,"0")};Object.keys(a).forEach((function(e){var t=e.split(":"),u=36e5*parseInt(t[0])+6e4*parseInt(t[1])+1e3*parseInt(t[2])+parseInt(t[3]),g=0;if(!1===n&&(l=u,n=!0,"undefined"!==typeof a["lap times"]&&Object.keys(a["lap times"]).forEach((function(e){if(Number(e[0])){var t=a["lap times"][e].split(":"),r=t[1].split("."),s=6e4*parseInt(t[0])+1e3*parseInt(r[0])+parseInt(r[1]);g+=s,p.push(g),console.log(g)}}))),Number.isInteger(Number(e[0]))){var d=u-l,j=o(parseInt(d/6e4%60),2)+":"+o(parseInt(d/1e3%60),2)+":"+o(parseInt(d%1e3),3);s.push(j),d>p[c]&&c+1<=p.length&&(h.push(j),c++),r.push(a[e][i[0]][i[1]])}})),t.setState({graph1Times:s,graph1Data:r,graph1Laps:h})}));a.graph2value===this.state.graph2value&&a.graph2Trial===this.state.graph2Trial||j.database().ref("Trial "+this.state.graph2Trial).on("value",(function(e){var a=e.val(),r=[],s=[],i=t.state.graph2value.split("|"),n=!1,l=0,p=[],c=0,h=[],o=function(e,a){return String(e).padStart(a,"0")};Object.keys(a).forEach((function(e){var t=e.split(":"),u=36e5*parseInt(t[0])+6e4*parseInt(t[1])+1e3*parseInt(t[2])+parseInt(t[3]),g=0;if(!1===n&&(l=u,n=!0,"undefined"!==typeof a["lap times"]&&Object.keys(a["lap times"]).forEach((function(e){if(Number(e[0])){var t=a["lap times"][e].split(":"),r=t[1].split("."),s=6e4*parseInt(t[0])+1e3*parseInt(r[0])+parseInt(r[1]);g+=s,p.push(g),console.log(g)}}))),Number.isInteger(Number(e[0]))){var d=u-l,j=o(parseInt(d/6e4%60),2)+":"+o(parseInt(d/1e3%60),2)+":"+o(parseInt(d%1e3),3);s.push(j),d>p[c]&&c+1<=p.length&&(h.push(j),c++),r.push(a[e][i[0]][i[1]])}})),t.setState({graph2Times:s,graph2Data:r,graph2Laps:h})}));a.graph3value===this.state.graph3value&&a.graph3Trial===this.state.graph3Trial||j.database().ref("Trial "+this.state.graph3Trial).on("value",(function(e){var a=e.val(),r=[],s=[],i=t.state.graph3value.split("|"),n=!1,l=0,p=[],c=0,h=[],o=function(e,a){return String(e).padStart(a,"0")};Object.keys(a).forEach((function(e){var t=e.split(":"),u=36e5*parseInt(t[0])+6e4*parseInt(t[1])+1e3*parseInt(t[2])+parseInt(t[3]),g=0;if(!1===n&&(l=u,n=!0,"undefined"!==typeof a["lap times"]&&Object.keys(a["lap times"]).forEach((function(e){if(Number(e[0])){var t=a["lap times"][e].split(":"),r=t[1].split("."),s=6e4*parseInt(t[0])+1e3*parseInt(r[0])+parseInt(r[1]);g+=s,p.push(g),console.log(g)}}))),Number.isInteger(Number(e[0]))){var d=u-l,j=o(parseInt(d/6e4%60),2)+":"+o(parseInt(d/1e3%60),2)+":"+o(parseInt(d%1e3),3);s.push(j),d>p[c]&&c+1<=p.length&&(h.push(j),c++),r.push(a[e][i[0]][i[1]])}})),t.setState({graph3Times:s,graph3Data:r,graph3Laps:h})}));a.graph4value===this.state.graph4value&&a.graph4Trial===this.state.graph4Trial||j.database().ref("Trial "+this.state.graph4Trial).on("value",(function(e){var a=e.val(),r=[],s=[],i=t.state.graph4value.split("|"),n=!1,l=0,p=[],c=0,h=[],o=function(e,a){return String(e).padStart(a,"0")};Object.keys(a).forEach((function(e){var t=e.split(":"),u=36e5*parseInt(t[0])+6e4*parseInt(t[1])+1e3*parseInt(t[2])+parseInt(t[3]),g=0;if(!1===n&&(l=u,n=!0,"undefined"!==typeof a["lap times"]&&Object.keys(a["lap times"]).forEach((function(e){if(Number(e[0])){var t=a["lap times"][e].split(":"),r=t[1].split("."),s=6e4*parseInt(t[0])+1e3*parseInt(r[0])+parseInt(r[1]);g+=s,p.push(g),console.log(g)}}))),Number.isInteger(Number(e[0]))){var d=u-l,j=o(parseInt(d/6e4%60),2)+":"+o(parseInt(d/1e3%60),2)+":"+o(parseInt(d%1e3),3);s.push(j),d>p[c]&&c+1<=p.length&&(h.push(j),c++),r.push(a[e][i[0]][i[1]])}})),t.setState({graph4Times:s,graph4Data:r,graph4Laps:h})}))}},{key:"shouldComponentUpdate",value:function(e,a){return"True"===this.state.running?(console.log("pause"),!1):(console.log("unpause"),!0)}},{key:"render",value:function(){var e=this.props.classes;return Object(r.jsxs)(v.a,{className:e.root,square:!0,children:[Object(r.jsx)(b.a,{position:"static",children:Object(r.jsxs)(f.a,{children:[Object(r.jsx)(m.a,{component:"h1",variant:"h6",className:e.title,children:"Bruin Supermileage Data Browser"}),Object(r.jsx)("img",{src:"/SMVDataBrowser/icon.png",height:"40rem",alt:""})]})}),Object(r.jsxs)(x.a,{container:!0,spacing:0,children:[Object(r.jsxs)(x.a,{container:!0,direction:"row",alignItems:"stretch",children:[Object(r.jsx)(x.a,{item:!0,xs:6,className:e.grid,children:Object(r.jsx)(D,{changeDialogState:this.changeDialogState1,vals:this.state.graph1Data,name:this.state.graph1value.split("|")[1].split(" ").map(N).join(" "),labels:this.state.graph1Times,trials:this.state.trials,changeTrial:this.changeTrial1,laps:this.state.graph1Laps})}),Object(r.jsx)(x.a,{item:!0,xs:6,children:Object(r.jsx)(D,{changeDialogState:this.changeDialogState2,vals:this.state.graph2Data,name:this.state.graph2value.split("|")[1].split(" ").map(N).join(" "),labels:this.state.graph2Times,trials:this.state.trials,changeTrial:this.changeTrial2,laps:this.state.graph2Laps})})]}),Object(r.jsxs)(x.a,{container:!0,direction:"row",children:[Object(r.jsx)(x.a,{item:!0,xs:6,children:Object(r.jsx)(D,{changeDialogState:this.changeDialogState3,vals:this.state.graph3Data,name:this.state.graph3value.split("|")[1].split(" ").map(N).join(" "),labels:this.state.graph3Times,trials:this.state.trials,changeTrial:this.changeTrial3,laps:this.state.graph3Laps})}),Object(r.jsx)(x.a,{item:!0,xs:6,children:Object(r.jsx)(D,{changeDialogState:this.changeDialogState4,vals:this.state.graph4Data,name:this.state.graph4value.split("|")[1].split(" ").map(N).join(" "),labels:this.state.graph4Times,trials:this.state.trials,changeTrial:this.changeTrial4,laps:this.state.graph4Laps})})]})]})]})}}]),t}(i.a.Component),k=Object(O.a)((function(e){return{root:{minHeight:"100vh",backgroundColor:"rgb(51, 48, 48)"},drawer:{width:"10rem",position:"relative"},menuIcon:{marginRight:32},title:{flexGrow:1}}}))(w);function N(e){return e.charAt(0).toUpperCase()+e.slice(1)}var L=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,111)).then((function(a){var t=a.getCLS,r=a.getFID,s=a.getFCP,i=a.getLCP,n=a.getTTFB;t(e),r(e),s(e),i(e),n(e)}))},C=t(50),E=t(108),M=(t(71),Object(C.a)({palette:{type:"dark"}}));l.a.render(Object(r.jsx)(E.a,{theme:M,children:Object(r.jsx)(k,{})}),document.getElementById("root")),L()}},[[72,1,2]]]);
//# sourceMappingURL=main.2152ab57.chunk.js.map